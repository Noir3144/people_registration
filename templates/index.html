{% extends "base.html" %}
{% block content %}
<section class="card glass">
  <h2 data-i18n="reg.title">Family Registration</h2>
  <p class="muted" data-i18n="reg.subtitle">Upload photos and contact details to help identify and contact you.</p>

  <form id="regForm" class="form" action="{{ url_for('register') }}" method="post" enctype="multipart/form-data" novalidate>
    <div class="grid-2">
      <div class="form-field">
        <label for="phone" data-i18n="field.phone">Mobile Number</label>
        <input id="phone" name="phone" type="tel" required placeholder="+91XXXXXXXXXX" />
      </div>
      <div class="form-field">
        <label for="whatsapp" data-i18n="field.whatsapp">WhatsApp Number</label>
        <input id="whatsapp" name="whatsapp" type="tel" required placeholder="+91XXXXXXXXXX" />
      </div>
      <div class="form-field">
        <label for="secondary" data-i18n="field.secondary">Secondary Contact (Optional)</label>
        <input id="secondary" name="secondary" type="tel" placeholder="+91XXXXXXXXXX" />
      </div>
    </div>

    <div class="form-field">
      <label data-i18n="field.photos">Photos</label>
      <div id="photoSlots" class="slots"></div>
      <!-- Hidden template for slots -->
      <template id="slotTemplate">
        <div class="slot glass">
          <input class="file-input" type="file" name="family_photos" accept="image/*" capture="environment">
          <div class="placeholder">
            <div class="plus">+</div>
            <div class="hint" data-i18n="ui.add_photo">Add Photo</div>
          </div>
          <img class="preview" alt="">
          <div class="slot-actions">
            <button type="button" class="btn small" data-action="retake" data-i18n="ui.retake">Retake</button>
            <button type="button" class="btn small danger" data-action="remove" data-i18n="ui.remove">Remove</button>
          </div>
        </div>
      </template>
    </div>

    <div class="actions">
      <button class="btn primary" type="submit" data-i18n="action.submit">Submit</button>
      <button class="btn ghost" type="reset" data-i18n="action.reset">Reset</button>
    </div>
  </form>
</section>
{% endblock %}
